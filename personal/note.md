# note

## 课程概述

## 技术

go RPC
go 线程 - 线程同步 -> 2 种方式（Java 5种）
go 并发控制

## 概念

什么是分布式系统
TODO

设计初衷
为获取超级性能利用数百台机器完成海量工作

性能 -> 数据分片(发送到多台机器提高性能) -> 自动容错(解决分片错误) -> 备份(获取容错性) -> 一致性(确保准确备份) -> 性能降低(无法时刻保证强一致性)
即强一致性与性能矛盾
退一步可以追求最终一致性和版本一致性

为何选择分布式架构？
联通物理上分散的节点
通过各个节点的资源隔离保证安全
通过备份实现高可用
方便横向资源扩展

## 核心问题

并行性能
容错
备份
一致性

本质上还是解决体系结构的老问题。体系结构无非三大领域：计算、存储、网络。这三大领域中关于分布式系统工程实现都有一些共性的需要解决的问题，包括
基础组件实现：RPC机制、线程机制、并发控制等如何高效实现

## 核心问题的解决方案

拓展性（线性横向扩展）：节点越多越难实现，比如负载不均衡、部分逻辑无法并发、共享资源形成瓶颈等情况都怎么处理
可拓展的吞吐量 - 技术包括负载均衡，共享资源瓶颈（网络，数据库），并发问题

容错性：肯定会出现节点失效，如何故障隔离，如何保证高可用 Raft
可用性 - TODO 技术
可恢复性 - TODO 技术

一致性保证：各个节点都有可能出问题的情况下，通信存在延迟的情况下，包括网络分割等情况都如何处理；强一致又必然损耗性能，如何做到性能与一致性之间的设计平衡
一致性和性能的冲突 - TODO 技术